define(["exports","./vendor-22992e2c","./useSpacesLoading-b404aeae","./useLocalStorage-9756f032","./visibility-c7f197c2"],(function(e,t,a,o,r){"use strict";const u=e=>["oc_options",e.routeName,e.name].filter(Boolean).join("_"),m=e=>(e||"").split("_")[0],i=(e,a,o=t.DateTime_1.DATETIME_MED)=>e.setLocale(m(a)).toLocaleString(o),s=(e,t)=>e.setLocale(m(t)).toRelative();e.formatDateFromDateTime=i,e.formatDateFromHTTP=(e,a,o=t.DateTime_1.DATETIME_MED)=>i(t.DateTime_1.fromHTTP(e),a,o),e.formatDateFromISO=(e,a,o=t.DateTime_1.DATETIME_MED)=>i(t.DateTime_1.fromISO(e),a,o),e.formatDateFromJSDate=(e,a,o=t.DateTime_1.DATETIME_MED)=>i(t.DateTime_1.fromJSDate(e),a,o),e.formatDateFromRFC=(e,a,o=t.DateTime_1.DATETIME_MED)=>i(t.DateTime_1.fromRFC2822(e),a,o),e.formatFileSize=(e,a)=>{const o="string"==typeof e?parseInt(e):e;return o<0?"":isNaN(o)?"?":t.filesize_min(o,{round:o<1048576?0:1,locale:m(a)})},e.formatRelativeDateFromDateTime=s,e.formatRelativeDateFromHTTP=(e,a)=>s(t.DateTime_1.fromHTTP(e),a),e.formatRelativeDateFromISO=(e,a)=>s(t.DateTime_1.fromISO(e),a),e.formatRelativeDateFromJSDate=(e,a)=>s(t.DateTime_1.fromJSDate(e),a),e.formatRelativeDateFromRFC=(e,a)=>s(t.DateTime_1.fromRFC2822(e),a),e.getLocaleFromLanguage=m,e.useMutationSubscription=(e,a,o)=>{let u;t.onMounted((()=>{u=r.useStore().subscribe((t=>e.includes(t.type)&&a(t)),o)})),t.onBeforeUnmount((()=>u()))},e.useRouteName=()=>{const e=a.useRoute();return t.computed((()=>t.unref(e).name))},e.useRouteQueryPersisted=e=>{const r=a.useRouteQuery(e.name),m=o.useLocalStorage(u(e));return t.watch((()=>t.unref(r)?{value:t.unref(r),source:"route"}:t.unref(m)?{value:t.unref(m),source:"storage"}:{value:e.defaultValue,source:"default"}),(t=>{["route","default"].includes(t.source)&&(m.value=t.value===e.defaultValue?void 0:t.value),["storage","default"].includes(t.source)&&(r.value=t.value)}),{immediate:!0}),r}}));
