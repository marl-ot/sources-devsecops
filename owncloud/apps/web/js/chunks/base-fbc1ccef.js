define(["exports","./vendor-22992e2c"],(function(e,t){"use strict";class i{static Permissions="{http://owncloud.org/ns}permissions";static IsFavorite="{http://owncloud.org/ns}favorite";static FileId="{http://owncloud.org/ns}fileid";static FileParent="{http://owncloud.org/ns}file-parent";static Name="{http://owncloud.org/ns}name";static OwnerId="{http://owncloud.org/ns}owner-id";static OwnerDisplayName="{http://owncloud.org/ns}owner-display-name";static PrivateLink="{http://owncloud.org/ns}privatelink";static ContentLength="{DAV:}getcontentlength";static ContentSize="{http://owncloud.org/ns}size";static LastModifiedDate="{DAV:}getlastmodified";static ETag="{DAV:}getetag";static MimeType="{DAV:}getcontenttype";static ResourceType="{DAV:}resourcetype";static DownloadURL="{http://owncloud.org/ns}downloadURL";static ShareId="{http://owncloud.org/ns}shareid";static ShareRoot="{http://owncloud.org/ns}shareroot";static ShareTypes="{http://owncloud.org/ns}share-types";static SharePermissions="{http://open-collaboration-services.org/ns}share-permissions";static TrashbinOriginalFilename="{http://owncloud.org/ns}trashbin-original-filename";static TrashbinOriginalLocation="{http://owncloud.org/ns}trashbin-original-location";static TrashbinDeletedDate="{http://owncloud.org/ns}trashbin-delete-datetime";static PublicLinkItemType="{http://owncloud.org/ns}public-link-item-type";static PublicLinkPermission="{http://owncloud.org/ns}public-link-permission";static PublicLinkExpiration="{http://owncloud.org/ns}public-link-expiration";static PublicLinkShareDate="{http://owncloud.org/ns}public-link-share-datetime";static PublicLinkShareOwner="{http://owncloud.org/ns}public-link-share-owner"}class s{static Default=[i.Permissions,i.IsFavorite,i.FileId,i.FileParent,i.Name,i.OwnerId,i.OwnerDisplayName,i.ShareId,i.ShareRoot,i.ShareTypes,i.PrivateLink,i.ContentLength,i.ContentSize,i.LastModifiedDate,i.ETag,i.MimeType,i.ResourceType,i.DownloadURL];static PublicLink=s.Default.concat([i.PublicLinkItemType,i.PublicLinkPermission,i.PublicLinkExpiration,i.PublicLinkShareDate,i.PublicLinkShareOwner]);static Trashbin=[i.ContentLength,i.ResourceType,i.TrashbinOriginalLocation,i.TrashbinOriginalFilename,i.TrashbinDeletedDate,i.Permissions,i.FileParent]}const a=/^(\w+:\/\/[^/?]+)?(.*?)$/;class n{static Internal=0;static Read=1;static Update=2;static Create=4;static Delete=8;static Share=16}class r{_key;_bit;_label;constructor(e,t,i){this._key=e,this._bit=t,this._label=i}get key(){return this._key}get bit(){return this._bit}get label(){return this._label}enabled(e){return(e&this.bit)>0}}class o{static internal=new r("internal",n.Internal,"Internal");static read=new r("read",n.Read,"Read");static update=new r("update",n.Update,"Edit");static create=new r("create",n.Create,"Create");static delete=new r("delete",n.Delete,"Delete");static share=new r("share",n.Share,"Share");static denied=new r("denied",64,"Deny");static permissionsToBitmask(e){return(e||[]).reduce(((e,t)=>e|t.bit),0)}static bitmaskToPermissions(e){return[this.read,this.update,this.create,this.delete,this.share].reduce(((t,i)=>(i.enabled(e)&&t.push(i),t)),[])}}class l{_name;_folder;_label;_inlineLabel;_icon;_permissions;constructor(e,t,i,s,a,n){this._name=e,this._folder=t,this._label=i,this._inlineLabel=s,this._icon=a,this._permissions=n}get key(){return`${this._name}-${this._folder?"folder":"file"}`}get name(){return this._name}get folder(){return this._folder}get label(){return this._label}get inlineLabel(){return this._inlineLabel}get hasCustomPermissions(){return!1}get icon(){return this._icon}permissions(e){return this._permissions.filter((t=>t!==o.share||e))}bitmask(e){return o.permissionsToBitmask(this.permissions(e))}hasPermission(e,t=!1){return this.permissions(t).filter((t=>t.bit===e.bit)).length>0}}class c extends l{get hasCustomPermissions(){return!0}description(e){return"Set detailed permissions"}}class d extends l{description(e){return V[this.bitmask(e)]}}class h extends l{description(e){switch(this.name){case T.name:return"Download and preview";case C.name:return"Upload, edit, delete, download and preview";case I.name:return"Upload, edit, delete, download, preview and share"}}}class u extends l{description(e){return B[this.bitmask(e)]}}const p=new d("viewer",!1,"Viewer","viewer","eye",[o.read,o.share]),m=new d("viewer",!0,"Viewer","viewer","eye",[o.read,o.share]),w=new d("editor",!1,"Editor","editor","pencil",[o.read,o.update,o.share]),b=new d("editor",!0,"Editor","editor","pencil",[o.read,o.update,o.create,o.delete,o.share]),g=new c("custom",!1,"Custom permissions","custom permissions","settings-3",[o.read,o.update,o.share]),k=new c("custom",!0,"Custom permissions","custom permissions","settings-3",[o.read,o.update,o.create,o.delete,o.share]),v=new d("denied",!0,"No access","no access","user-unfollow",[o.denied]),f=new u("none",!1,"Internal","internal","user",[o.internal]),y=new u("none",!0,"Internal","internal","user",[o.internal]),P=new u("viewer",!1,"Viewer","viewer","eye",[o.read]),_=new u("viewer",!0,"Viewer","viewer","eye",[o.read]),S=new u("contributor",!0,"Contributor","contributor","user-settings",[o.read,o.create]),D=new u("editor",!1,"Editor","editor","pencil",[o.read,o.update]),L=new u("editor",!0,"Editor","editor","pencil",[o.read,o.update,o.create,o.delete]),R=new u("uploader",!0,"Uploader","uploader","upload",[o.create]),T=new h("viewer",!1,"Viewer","viewer","eye",[o.read]),C=new h("editor",!1,"Editor","editor","pencil",[o.read,o.update,o.create,o.delete]),I=new h("manager",!1,"Manager","manager","user",[o.read,o.update,o.create,o.delete,o.share]);class E{static all=[p,m,w,b];static allWithCustom=[...this.all,g,k];static list(e,t=!0,i=!1){return[...t?this.allWithCustom:this.all,...i?[v]:[]].filter((t=>t.folder===e))}static custom(e){return this.allWithCustom.find((t=>t.folder===e&&t.hasCustomPermissions))}static getByBitmask(e,t,i){return[...this.allWithCustom,v].filter((e=>!e.hasCustomPermissions)).find((s=>s.folder===t&&s.bitmask(i)===e))||this.custom(t)}static filterByBitmask(e,t,i,s){const a=this.all.filter((s=>s.folder===t&&e===(e|s.bitmask(i))));if(s){const e=[g,k];return[...a,...e.filter((e=>e.folder===t))]}return a}}const V={[p.bitmask(!1)]:"Download and preview",[p.bitmask(!0)]:"Download, preview and share",[m.bitmask(!1)]:"Download and preview",[m.bitmask(!0)]:"Download, preview and share",[w.bitmask(!1)]:"Edit, download and preview",[w.bitmask(!0)]:"Edit, download, preview and share",[b.bitmask(!1)]:"Upload, edit, delete, download and preview",[b.bitmask(!0)]:"Upload, edit, delete, download, preview and share",[v.bitmask(!1)]:"Deny access"},B={[f.bitmask(!1)]:"People need to be invited and login is required",[y.bitmask(!1)]:"People need to be invited and login is required",[P.bitmask(!1)]:"Recipients can view and download contents.",[_.bitmask(!1)]:"Recipients can view and download contents.",[S.bitmask(!1)]:"Recipients can view, download and upload contents.",[D.bitmask(!1)]:"Recipients can view, download and edit contents.",[L.bitmask(!1)]:"Recipients can view, download, edit, delete and upload contents.",[R.bitmask(!1)]:"Recipients can upload but existing contents are not revealed."};class F{_key;_value;_label;_icon;constructor(e,t,i,s){this._key=e,this._value=t,this._label=i,this._icon=s}get key(){return this._key}get value(){return this._value}get label(){return this._label}get icon(){return this._icon}}class U{static user=new F("user",0,"User","user");static group=new F("group",1,"Group","group");static link=new F("link",3,"Link","link");static guest=new F("guest",4,"Guest","global");static remote=new F("remote",6,"Federated","earth");static space=new F("space",7,"User","user");static individuals=[this.user,this.guest,this.remote,this.space];static collectives=[this.group];static unauthenticated=[this.link];static authenticated=[this.user,this.group,this.guest,this.remote,this.space];static all=[this.user,this.group,this.link,this.guest,this.remote,this.space];static isIndividual(e){return this.individuals.includes(e)}static isCollective(e){return this.collectives.includes(e)}static isUnauthenticated(e){return this.unauthenticated.includes(e)}static isAuthenticated(e){return this.authenticated.includes(e)}static getByValue(e){return this.all.find((t=>t.value===e))}static getValues(e){return e.map((e=>e.value))}static containsAnyValue(e,i){return t.intersection(this.getValues(e),i).length>0}}var x;e.ShareStatus=void 0,(x=e.ShareStatus||(e.ShareStatus={}))[x.accepted=0]="accepted",x[x.pending=1]="pending",x[x.declined=2]="declined";const O="https://ocis.ocis-traefik.latest.owncloud.works".replace(/\/+$/,"");class A extends Error{field;name="RequiredError";constructor(e,t){super(t),this.field=e}}e.BASE_PATH=O,e.BaseAPI=class{basePath;axios;configuration;constructor(e,i=O,s=t.axios){this.basePath=i,this.axios=s,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}},e.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"},e.DavPermission=class{static Shared="S";static Shareable="R";static Mounted="M";static Deletable="D";static Renameable="N";static Moveable="V";static Updateable="NV";static FileUpdateable="W";static FolderCreateable="CK";static Deny="Z"},e.DavProperties=s,e.DavProperty=i,e.LinkShareRoles=class{static all=[P,_,S,L,R];static list(e,t=!1,i=!1,s=!1){return[...i&&!s?[f,y]:[],...this.all,...t?[D]:[]].filter((t=>t.folder===e))}static getByBitmask(e,t){return[...this.all,D,f,y].find((i=>i.folder===t&&i.bitmask(!1)===e))}static filterByBitmask(e,t,i=!1,s=!1,a=!1){return[...s&&!a?[f,y]:[],...this.all,...i?[D]:[]].filter((i=>i.folder===t&&e===(e|i.bitmask(!1))))}},e.PeopleShareRoles=E,e.RequiredError=A,e.SharePermissionBit=n,e.SharePermissions=o,e.ShareTypes=U,e.SpacePeopleShareRoles=class{static all=[T,C,I];static list(){return this.all}static getByBitmask(e){return this.all.find((t=>t.bitmask(!0)===e))}},e.linkRoleInternalFile=f,e.linkRoleInternalFolder=y,e.linkRoleUploaderFolder=R,e.spaceRoleEditor=C,e.spaceRoleManager=I,e.spaceRoleViewer=T,e.urlJoin=(...e)=>{const t=e[e.length-1];let i;t&&"object"==typeof t&&(i=t,e=e.slice(0,-1)),i={leadingSlash:!0,trailingSlash:!1,...i};return((e,t)=>{const{prefix:i,pathname:s}=e,{parts:a,hasLeading:n,hasTrailing:r}=s,{leadingSlash:o,trailingSlash:l}=t,c=!0===o||"keep"===o&&n,d=!0===l||"keep"===l&&r;let h=i;return a.length>0&&((h||c)&&(h+="/"),h+=a.join("/")),d&&(h+="/"),!h&&c&&(h+="/"),h})((e=>{const t=e.join("/"),[,i="",s=""]=t.match(a)||[];return{prefix:i,pathname:{parts:s.split("/").filter((e=>""!==e)),hasLeading:/^\/+/.test(s),hasTrailing:/\/+$/.test(s)}}})(e=(e=>e.filter((e=>"string"==typeof e||"number"==typeof e)).map((e=>`${e}`)).filter((e=>e)))(e)),i)}}));
