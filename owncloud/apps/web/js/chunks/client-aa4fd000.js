define(["exports","./vendor-22992e2c","../web-client-c170d434"],(function(t,e,n){"use strict";class i{accessToken;publicLinkToken;publicLinkPassword;constructor(t={}){this.accessToken=t.accessToken,this.publicLinkToken=t.publicLinkToken,this.publicLinkPassword=t.publicLinkPassword}getHeaders(){return{...this.publicLinkToken&&{"public-token":this.publicLinkToken},...this.publicLinkPassword&&{Authorization:"Basic "+e.Buffer.from(["public",this.publicLinkPassword].join(":")).toString("base64")},...this.accessToken&&{Authorization:"Bearer "+this.accessToken}}}}class s{instance;cancelToken;constructor(t){this.cancelToken=e.axios.CancelToken.source(),this.instance=e.axios.create(t)}cancel(t){this.cancelToken.cancel(t)}delete(t,e){return this.instance.delete(t,this.obtainConfig(e))}get(t,e){return this.instance.get(t,this.obtainConfig(e))}head(t,e){return this.instance.head(t,this.obtainConfig(e))}options(t,e){return this.instance.options(t,this.obtainConfig(e))}patch(t,e,n){return this.instance.patch(t,e,this.obtainConfig(n))}post(t,e,n){return this.instance.post(t,e,this.obtainConfig(n))}put(t,e,n){return this.instance.put(t,e,this.obtainConfig(n))}request(t){return this.instance.request(this.obtainConfig(t))}obtainConfig(t){return e.merge({cancelToken:this.cancelToken.token},t)}}const o=t=>{const n=new i(t),s=e.axios.create({headers:n.getHeaders()});return s.interceptors.request.use((t=>(t.headers["X-Request-ID"]=e.v4(),t.headers["X-Requested-With"]="XMLHttpRequest",t.headers["Content-Type"]="application/x-www-form-urlencoded",t))),s};class c{httpAuthenticatedClient;httpUnAuthenticatedClient;ocUserContextClient;ocPublicLinkContextClient;owncloudSdkClient;webdavClient;httpAuthenticated(t){return this.httpAuthenticatedClient&&this.httpAuthenticatedClient.token===t||(this.httpAuthenticatedClient={token:t,instance:new s({headers:{Authorization:"Bearer "+t,"X-Requested-With":"XMLHttpRequest","X-Request-ID":e.v4()}})}),this.httpAuthenticatedClient.instance}graphAuthenticated(t,e){return this.initOcUserContextClient(t,e),this.ocUserContextClient.graph}ocsUserContext(t,e){return this.initOcUserContextClient(t,e),this.ocUserContextClient.ocs}initOcUserContextClient(t,e){if(!this.ocUserContextClient||this.ocUserContextClient.token!==e){const{graph:i,ocs:s}=n.client(t,o({accessToken:e}));this.ocUserContextClient={token:e,graph:i,ocs:s}}}ocsPublicLinkContext(t,e,n){return this.initOcPublicLinkContextClient(t,e,n),this.ocPublicLinkContextClient.ocs}initOcPublicLinkContextClient(t,e,i){if(!this.ocPublicLinkContextClient||this.ocPublicLinkContextClient.token!==e){const{graph:s,ocs:c}=n.client(t,o({publicLinkToken:e,publicLinkPassword:i}));this.ocPublicLinkContextClient={token:e,graph:s,ocs:c}}}get httpUnAuthenticated(){return this.httpUnAuthenticatedClient||(this.httpUnAuthenticatedClient=new s({headers:{"X-Requested-With":"XMLHttpRequest"}})),this.httpUnAuthenticatedClient}get owncloudSdk(){return this.owncloudSdkClient}set owncloudSdk(t){this.owncloudSdkClient=t}get webdav(){return this.webdavClient}set webdav(t){this.webdavClient=t}}const h=new c;t.Auth=i,t.ClientService=c,t.HttpClient=s,t.clientService=h,t.encodePath=(t="")=>t.split("/").map(encodeURIComponent).join("/")}));
