define(["exports","./vendor-22992e2c","./_rollupPluginBabelHelpers-d0b0ebba"],(function(e,t,a){"use strict";const n=(e,...t)=>{const{href:a}=e.resolve(e.currentRoute);return t.map((t=>{const{href:n}=e.resolve({...t});return"/"!==n&&"#/"!==n&&a.startsWith(n)})).some(Boolean)},r=(...e)=>(t,...a)=>{if(!a.length)return n(t,...e);const[r,...o]=a.map((t=>{const a=e.find((e=>e.name===t));if(!a)throw new Error(`unknown comparative '${t}'`);return a}));return n(t,r,...o)};const o=(e,...a)=>t.merge({},{name:e},...a.map((e=>({...e.params&&{params:e.params},...e.query&&{query:e.query}})))),i=(e,t={})=>o(e,t),s=i("files-common-favorites"),c=i("files-common-search"),h=r(s,c),l=(e,t={})=>o(e,t),u=l("files-spaces-projects"),p=l("files-spaces-generic"),m=r(u,p),d=(e,t={})=>o(e,t),v=d("files-shares-with-me"),f=d("files-shares-with-others"),S=d("files-shares-via-link"),b=r(v,f,S),A=(e,t={})=>o(e,t),R=A("files-public-link"),C=A("files-public-upload"),g=r(R,C),x=(e,t={})=>o(e,t),L=x("files-trash-generic"),k=r(L);var w=new class{providers;constructor(){this.providers=[]}addProvider(e){this.providers.push(e)}get availableProviders(){return this.providers.filter((e=>e.available))}};const P={data:function(){var e=this.$route.query.provider;return{loading:!1,debouncedSearch:void 0,searchResult:{values:[],totalResults:null},listSearch:w.availableProviders.find((function(t){return t.id===e})).listSearch}},watch:{"$route.query":{handler:function(e,t){var a=this;(null==e?void 0:e.term)!==(null==t?void 0:t.term)&&this.$nextTick((function(){a.debouncedSearch()}))},immediate:!0}},created:function(){this.debouncedSearch=t.debounce(this.search,10)},methods:{search:function(){var e=this;return a._asyncToGenerator(a._regeneratorRuntime().mark((function t(){return a._regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.listSearch.search(e.$route.query.term||"");case 3:e.searchResult=t.sent,e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()}}};var _=function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.listSearch.component,{tag:"component",attrs:{"search-result":e.searchResult,loading:e.loading}})};_._withStripped=!0;const $=t.normalizeComponent({render:_,staticRenderFns:[]},undefined,P,undefined,false,undefined,!1,void 0,void 0,void 0);e.__vue_component__=$,e.buildRoutes=e=>[{path:"/search",component:e.App,children:[{name:c.name,path:"list/:page?",component:e.SearchResults,meta:{authContext:"user",title:"Search results",contextQueryItems:["term","provider"]}}]},{path:"/favorites",component:e.App,children:[{name:s.name,path:"",component:e.Favorites,meta:{authContext:"user",title:"Favorite files"}}]}],e.buildRoutes$1=e=>[{path:"/shares",component:e.App,redirect:v,children:[{name:v.name,path:"with-me",component:e.Shares.SharedWithMe,meta:{authContext:"user",title:"Files shared with me"}},{name:f.name,path:"with-others",component:e.Shares.SharedWithOthers,meta:{authContext:"user",title:"Files shared with others"}},{name:S.name,path:"via-link",component:e.Shares.SharedViaLink,meta:{authContext:"user",title:"Files shared via link"}}]}],e.buildRoutes$2=e=>[{path:"/link",component:e.App,meta:{auth:!1},children:[{name:R.name,path:":driveAliasAndItem*",component:e.Spaces.DriveResolver,meta:{authContext:"publicLink",patchCleanPath:!0}}]},{path:"/upload",component:e.App,meta:{auth:!1},children:[{name:C.name,path:":token?",component:e.FilesDrop,meta:{authContext:"publicLink",title:"Public file upload"}}]}],e.buildRoutes$3=e=>[{path:"/spaces",component:e.App,children:[{path:"projects",name:u.name,component:e.Spaces.Projects,meta:{authContext:"user",title:"Spaces"}},{path:":driveAliasAndItem*",name:p.name,component:e.Spaces.DriveResolver,meta:{authContext:"user",patchCleanPath:!0}}]}],e.buildRoutes$4=e=>[{path:"/trash",component:e.App,children:[{name:L.name,path:":driveAliasAndItem*",component:e.Spaces.DriveResolver,meta:{authContext:"user",patchCleanPath:!0}}]}],e.createLocationCommon=i,e.createLocationPublic=A,e.createLocationShares=d,e.createLocationSpaces=l,e.createLocationTrash=x,e.isLocationCommonActive=h,e.isLocationPublicActive=g,e.isLocationSharesActive=b,e.isLocationSpacesActive=m,e.isLocationTrashActive=k,e.locationPublicLink=R,e.locationPublicUpload=C,e.locationSharesViaLink=S,e.locationSharesWithMe=v,e.locationSharesWithOthers=f,e.locationSpacesGeneric=p,e.providerStore=w}));
